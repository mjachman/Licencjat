@*@using VetAppointment.Models.Identity;*@
@model IEnumerable<VetAppointment.Models.Appointment>
@*@model IEnumerable<AppUser>*@
@{
    ViewData["Title"] = "Dostępne terminy";
}

<h1>Dostępne terminy</h1>

@if (Model.Any())
{
    <form asp-action="VetList" method="get">
        <div class="form-actions no-color">
            <p>
                Szukaj: <input type="text" name="SearchString" value="@ViewData["currentFilter"]" />
                <input type="submit" value="Wyszukaj" class="btn btn-default" /> |
                <a asp-action="VetList">Wyświetl wszystko</a>
            </p>
        </div>
    </form>
    foreach (var appointment in Model)
    {
        <div class="card mb-3">
            <div class="card-header">
                <h5 class="card-title"> Data: @appointment.Date</h5>
            </div>
            <div class="card-body">
                @*<h5 class="card-title">@user.Name @user.Surname</h5>*@
                <h6 class="card-text"> @appointment.Vet.Name @appointment.Vet.Surname</h6>
                <h6 class="card-text">E-mail: @appointment.Vet.Email</h6>
                <h6 class="card-text">Adres: @appointment.Vet.Address</h6>
                <h6 class="card-text">Telefon: @appointment.Vet.PhoneNumber</h6>
            </div>
            <div class="card-footer">
                <a asp-action="MakeAppointment" class="btn btn-success" asp-route-id="@appointment.AppointmentID">Umów wizytę</a>
                @*<a href="#" class="btn btn-danger">Delete</a>*@
            </div>
        </div>
    }
}
else
{
    <form asp-action="VetList" method="get">
        <div class="form-actions no-color">
            <p>
                Szukaj: <input type="text" name="SearchString" value="@ViewData["currentFilter"]" />
                <input type="submit" value="Wyszukaj" class="btn btn-default" /> |
                <a asp-action="VetList">Wyświetl wszystko</a>
            </p>
        </div>
    </form>
    <div class="card">
        <div class="card-header">
            Brak dostępnych terminów
        </div>
    </div>
}
